<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a [routerLink]="['/dashboard']">Dashboard</a></li>
    <li class="breadcrumb-item"><a [routerLink]="['/schedule-list']">Schedule Details</a></li>
    <li class="breadcrumb-item active" aria-current="page">Add Participants</li>
  </ol>
</nav>
<div class="card">
    <div class="card-header">
      <h4 class="card-title">Add Participants</h4>
    </div>
    <div class="card-body">
      <form (ngSubmit)="onSubmit()"  [formGroup]="addParticipantsForm">
        <div class="row">
          <div class="col-md-4 form-group">
            <label>Course Name:</label>
            <input type="text" id="cName" name="cName" formControlName="cName" class="form-control" required>
              <small class="text-danger" *ngIf="addParticipantsForm.get('cName').hasError('required') && addParticipantsForm.get('cName').touched">
                Course Name is required
              </small>
          </div>
          <div class="col-md-4 form-group">
            <label>Trainer Name:</label>
            <input type="text" id="tName" name="tName" formControlName="tName" class="form-control" required>
              <small class="text-danger" *ngIf="addParticipantsForm.get('tName').hasError('required') && addParticipantsForm.get('tName').touched">
                Trainer Name is required
              </small>
          </div>
          <div class="col-md-4 form-group">
            <label>Employee Code:</label>
            <select name="empCode" id="empCode" formControlName="empCode" class="form-control" (change)="onEmpCodeChange($event.target.value)" required>
              <option *ngFor="let code of employeeCodes" [value]="code">{{ code }}</option>
            </select>
            <small class="text-danger" *ngIf="addParticipantsForm.get('empCode').hasError('required') && addParticipantsForm.get('empCode').touched">
              Employee Code is required
            </small>
          </div>
          
          <!-- <div class="col-md-4 form-group">
            <label>Employee Name:</label>
            <input type="text" id="empName" name="empName" formControlName="empName" class="form-control" required>
              <small class="text-danger" *ngIf="addParticipantsForm.get('empName').hasError('required') && addParticipantsForm.get('empName').touched">
                Employee Name is required
              </small>
          </div>  -->
          <!-- <div class="col-md-4 form-group">
            <label>Employee Name:</label>
            <input type="text" id="empName" name="empName" formControlName="empName" class="form-control" (input)="filterEmployeeNames($event.target.value)" required>
            <div *ngIf="filteredEmployeeNames.length > 0" class="autocomplete-list">
              <div *ngFor="let name of filteredEmployeeNames" (click)="onEmpNameSelect(name)">
                {{ name }}
              </div>
            </div>
            <small class="text-danger" *ngIf="addParticipantsForm.get('empName').hasError('required') && addParticipantsForm.get('empName').touched">
              Employee Name is required
            </small>
          </div> -->
          <!-- <div class="col-md-4 form-group position-relative">
            <label>Employee Name:</label>
            <input type="text" id="empName" name="empName" formControlName="empName" class="form-control" (input)="filterEmployeeNames($event.target.value)" required>
            <div *ngIf="filteredEmployeeNames.length > 0" class="autocomplete-list dropdown-menu show">
              <button class="dropdown-item" *ngFor="let name of filteredEmployeeNames" (click)="onEmpNameSelect(name); closeAutocompleteList()">{{ name }}</button>
            </div>
            <small class="text-danger" *ngIf="addParticipantsForm.get('empName').hasError('required') && addParticipantsForm.get('empName').touched">
              Employee Name is required
            </small>
          </div> -->
          <!-- <div class="col-md-4 form-group position-relative">
            <label>Employee Name:</label>
            <input type="text" id="empName" name="empName" formControlName="empName" class="form-control" (input)="filterEmployeeNames($event.target.value)" required>
            <div *ngIf="filteredEmployeeNames.length > 0" class="autocomplete-list dropdown-menu show">
              <button class="dropdown-item" *ngFor="let name of filteredEmployeeNames" (click)="onEmpNameSelect(name); closeAutocompleteList(); addParticipantsForm.get('empName').setValue(name)">{{ name }}</button>
            </div>
            <small class="text-danger" *ngIf="addParticipantsForm.get('empName').hasError('required') && addParticipantsForm.get('empName').touched">
              Employee Name is required
            </small>
          </div> -->
          <div class="col-md-4 form-group position-relative">
            <label>Employee Name:</label>
            <input type="text" id="empName" name="empName" formControlName="empName" class="form-control" (input)="filterEmployeeNames($event.target.value)" required>
            <div *ngIf="filteredEmployeeNames.length > 0" class="autocomplete-list dropdown-menu show" #autocompleteList>
              <button class="dropdown-item" *ngFor="let name of filteredEmployeeNames" (click)="onEmpNameSelect(name); addParticipantsForm.get('empName').setValue(name); closeAutocompleteList(autocompleteList)">{{ name }}</button>
            </div>
            <small class="text-danger" *ngIf="addParticipantsForm.get('empName').hasError('required') && addParticipantsForm.get('empName').touched">
              Employee Name is required
            </small>
          </div>
          <div class="col-md-4 form-group">
            <label>Start Date:</label>
            <input type="date" id="startDate" name="startDate" formControlName="startDate" class="form-control" required>
              <small class="text-danger" *ngIf="addParticipantsForm.get('startDate').hasError('required') && addParticipantsForm.get('startDate').touched">
                Date is required
              </small>
          </div>
          <div class="col-md-4 form-group">
            <label>End Date:</label>
            <input type="date" id="endDate" name="endDate" formControlName="endDate" class="form-control" required>
              <small class="text-danger" *ngIf="addParticipantsForm.get('endDate').hasError('required') && addParticipantsForm.get('endDate').touched">
                Date is required
              </small>
          </div>
          <div class="col-md-4 form-group">
            <label>Registration Date:</label>
            <input type="date" id="regDate" name="regDate" formControlName="regDate" class="form-control" required>
              <small class="text-danger" *ngIf="addParticipantsForm.get('regDate').hasError('required') && addParticipantsForm.get('regDate').touched">
                Date is required
              </small>
          </div>
          <div class="col-md-4 form-group">
            <label>Status:</label>
            <select id="status" name="status" formControlName="status" class="form-control" required>
              <option value="confirmed">Confirmed</option>
            </select>
              <small class="text-danger" *ngIf="addParticipantsForm.get('status').hasError('required') && addParticipantsForm.get('status').touched">
                Status is required
              </small>
          </div>
          <div class="col-md-4 form-group">
            <label for="comments">Comments</label>
            <textarea id="comments" name="comments" formControlName="comments" class="form-control" cols="30" rows="2"></textarea>
          </div>
        </div>
        <button type="submit" class="btn btn-primary" [disabled]="!addParticipantsForm.valid" >Submit</button> 
      </form>
    </div>
  </div>

